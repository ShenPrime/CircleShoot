<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Orbitron:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="./style/styles.css" />
    <title>Circle Shoot - Cosmic Edition</title>
  </head>
  <body>
    <!-- Start Screen -->
    <div class="menu-screen startGame">
      <div class="menu-content">
        <h1 class="game-title">CIRCLE SHOOT</h1>
        <p class="subtitle">‚òÖ COSMIC EDITION ‚òÖ</p>

        <h2 class="section-title">HOW TO PLAY</h2>
        <p class="instructions">
          Use <kbd>W</kbd> <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> to navigate through space.<br>
          <kbd>Click</kbd> to fire projectiles at incoming enemies.<br>
          Collect glowing orbs for powerful upgrades!
        </p>

        <button class="btn-primary strtBtn">‚ñ∂ START MISSION</button>
        <button class="btn-secondary leaderboardBtn">üèÜ LEADERBOARD</button>

        <p class="hint">Press <kbd>X</kbd> to pause anytime</p>
      </div>
    </div>

    <!-- Game Over Screen -->
    <div class="menu-screen gameOver">
      <div class="menu-content">
        <h1 class="game-over-title">MISSION FAILED</h1>

        <p class="score-label">FINAL SCORE</p>
        <p class="score-display"><span class="score">0</span></p>

        <div class="stats-row">
          <div class="stat-item">
            <p class="stat-label">HIGHEST RANK</p>
            <p class="stat-value highestRank">RECRUIT</p>
          </div>
          <div class="stat-item">
            <p class="stat-label">BEST STREAK</p>
            <p class="stat-value bestStreak">-</p>
          </div>
        </div>

        <!-- Username Section -->
        <div class="username-section">
          <p class="stat-label">YOUR NAME</p>
          <div class="username-input-row">
            <input type="text" class="username-input" maxlength="20" placeholder="Loading...">
            <button class="btn-icon save-name-btn" title="Save">‚úì</button>
          </div>
          <p class="name-status"></p>
        </div>

        <button class="btn-secondary leaderboardBtn">üèÜ LEADERBOARD</button>
        <button class="btn-primary restartBtn">‚Üª TRY AGAIN</button>
      </div>
    </div>

    <!-- Pause Screen -->
    <div class="menu-screen pause">
      <div class="menu-content">
        <h1 class="pause-title">‚è∏ PAUSED</h1>

        <p class="score-label">CURRENT SCORE</p>
        <p class="score-display"><span class="pauseScore">0</span></p>

        <p class="hint">Press <kbd>Z</kbd> to resume</p>
      </div>
    </div>

    <!-- Game Canvas -->
    <canvas></canvas>

    <!-- Mobile Touch Controls -->
    <div class="mobile-controls" id="mobileControls">
      <div class="joystick-container" id="joystickContainer">
        <div class="joystick-base" id="joystickBase">
          <div class="joystick-thumb" id="joystickThumb"></div>
        </div>
      </div>
      <div class="joystick-container aim-container" id="aimContainer">
        <div class="joystick-base aim-base" id="aimBase">
          <div class="joystick-thumb aim-thumb" id="aimThumb"></div>
        </div>
      </div>
    </div>

    <!-- Leaderboard Modal -->
    <div class="modal leaderboard-modal" style="display: none;">
      <div class="modal-content leaderboard-content">
        <h1 class="modal-title">üèÜ GLOBAL LEADERBOARD</h1>
        
        <!-- Player's own rank -->
        <div class="player-rank-banner">
          <span class="your-rank-label">YOUR RANK</span>
          <span class="your-rank">#--</span>
          <span class="your-best-label">BEST SCORE</span>
          <span class="your-best">--</span>
        </div>
        
        <!-- Leaderboard table -->
        <div class="leaderboard-table-container">
          <table class="leaderboard-table">
            <thead>
              <tr>
                <th>RANK</th>
                <th>PLAYER</th>
                <th>SCORE</th>
              </tr>
            </thead>
            <tbody class="leaderboard-body">
              <tr><td colspan="3" class="loading-text">Loading...</td></tr>
            </tbody>
          </table>
        </div>
        
        <button class="btn-primary close-leaderboard-btn">CLOSE</button>
      </div>
    </div>

    <!-- Load scripts in dependency order -->
    <script src="./scripts/utils.js"></script>
    <script src="./scripts/entities.js"></script>
    <script src="./scripts/collision.js"></script>
    <script src="./scripts/rendering.js"></script>
    <script src="./scripts/powerups.js"></script>
    <script src="./scripts/state.js"></script>
    <script src="./scripts/api.js"></script>
    <script src="./scripts/leaderboard.js"></script>
    <script src="./scripts/index.js"></script>
  </body>
</html>
